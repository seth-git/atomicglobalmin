<!doctype html>
<html>
  <head>
    <title>Atomic Global Minimum Locator: Setting a wall time to ensure cleaning of scratch files</title>
    <link href="../styles/styles.css" rel="stylesheet" type="text/css" />
  </head>
  <body class="mainBody">
    <h1>Atomic Global Minimum Locator: Setting a wall time to ensure cleaning of scratch files</h1>
    <br/>
    <table class="itemLayoutTable"><tr><td>
    <a href="../index.html?show=tips">Menu</a>
    <br/><br/>
    <a href="seeding.html">Previous</a>
    <a href="trans.html" style="float:right">Next</a>
    <br/><br/>

During a typical run, the program must be restarted several times.  When a program is terminated by the scheduler before the run is finished, this leaves files in the scratch directory. This is a problem if you want the scratch directory to be on the node's local hard drive rather than on a network drive.  Using the local hard drives frees up network bandwidth, so it would be nice if the program would watch the clock, clean up the scratch files, and die gracefully, rather than being killed by the PBS scheduler. The program can do this as follows:
    <br/><br/>

    &#160;&#160;&#160;&#160;&#160;./pso -walltime HH:MM:SS File.inp
    <br/><br/>

This tells the program to terminate before the specified duration of time has elapsed (hours, minutes, and seconds).  The format of the wall time is the same as the PBS scheduler, so you can simply copy and paste it.  Note: if you kill the PBS job using the qdel command, the scratch files will NOT be deleted, so don't do this.  If you need to stop a run before the wall time is up, use the cd command to navigate to the energy files directory (line 4 in the input file), and type 'touch stop'.  This will create a blank file called stop.  At the end of the run's next iteration, the program will check for the existence of this file.  If it's there, it will stop the run and clean up the scratch files correctly.

    <br/><br/>
    <a href="../index.html?show=tips">Menu</a>
    <br/><br/>
    <a href="seeding.html">Previous</a>
    <a href="trans.html" style="float:right">Next</a>
    </td></tr></table>
  </body>
</html>

